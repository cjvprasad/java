<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Professional Mastery v6</title>
    <style>
        :root { 
            --primary: #2c3e50; 
            --accent: #27ae60; 
            --project: #d35400; 
            --bg: #f4f6f8; 
            --text: #333;
            --sidebar-width: 360px;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; display: flex; height: 100vh; background: var(--bg); color: var(--text); }
        
        /* Sidebar */
        .sidebar { width: var(--sidebar-width); background: #1e272e; color: #ecf0f1; display: flex; flex-direction: column; border-right: 1px solid #111; flex-shrink: 0; }
        .sidebar-header { padding: 20px; background: #151b1f; text-align: center; border-bottom: 4px solid var(--accent); }
        .sidebar-header h2 { margin: 0; font-size: 1.2rem; letter-spacing: 1px; color: var(--accent); }
        .search-box { padding: 12px; background: #2d3436; }
        .search-input { width: 100%; padding: 10px; border-radius: 4px; border: none; outline: none; background: #dfe6e9; color: #333; font-weight: 700; box-sizing: border-box; }
        
        .nav-container { flex: 1; overflow-y: auto; scrollbar-width: thin; }
        
        /* Accordion */
        .cat-group { border-bottom: 1px solid #2d3436; }
        .cat-header { padding: 14px 20px; background: #232d36; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-weight: 600; font-size: 0.9rem; transition: 0.2s; }
        .cat-header:hover { background: #2c3e50; }
        .cat-header .badge { background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 10px; font-size: 0.75rem; }
        .cat-group.open .cat-header { color: var(--accent); border-left: 4px solid var(--accent); background: #1a2126; }
        .cat-list { display: none; background: #181f24; padding: 0; margin: 0; list-style: none; }
        .cat-group.open .cat-list { display: block; }
        
        .nav-item { padding: 10px 15px 10px 30px; cursor: pointer; font-size: 0.85rem; border-bottom: 1px solid #232d36; color: #bdc3c7; transition: 0.2s; display: flex; align-items: center; }
        .nav-item:hover { background: rgba(255,255,255,0.05); color: white; }
        .nav-item.active { background: rgba(39, 174, 96, 0.15); color: var(--accent); border-left: 3px solid var(--accent); padding-left: 27px; font-weight: 700; }
        
        /* Project Item Style */
        .nav-item.project-item { color: #e67e22; font-weight: 700; background: rgba(230, 126, 34, 0.05); }
        .nav-item.project-item.active { border-left-color: #e67e22; color: #e67e22; background: rgba(230, 126, 34, 0.15); }

        /* Main Content */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; display: flex; flex-direction: column; }
        .container { max-width: 1000px; margin: 0 auto; width: 100%; }
        
        .nav-controls { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .btn-nav { padding: 8px 20px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 8px; transition: 0.2s; }
        .btn-nav:hover { background: var(--accent); transform: translateY(-2px); }
        .btn-nav:disabled { background: #bdc3c7; cursor: not-allowed; transform: none; }

        .card { background: white; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); overflow: hidden; min-height: 500px; display: flex; flex-direction: column; }
        .card-header { background: var(--primary); color: white; padding: 25px; display: flex; justify-content: space-between; align-items: center; }
        .card-header h1 { margin: 0; font-size: 1.5rem; }
        .cat-tag { background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 12px; font-size: 0.8rem; text-transform: uppercase; letter-spacing: 1px; }

        /* Tabs */
        .tabs { display: flex; background: #f8f9fa; border-bottom: 1px solid #e9ecef; padding: 0 20px; flex-wrap: wrap; }
        .tab { padding: 15px 20px; cursor: pointer; font-weight: 600; color: #7f8c8d; border-bottom: 3px solid transparent; transition: 0.2s; white-space: nowrap; }
        .tab:hover { color: var(--primary); }
        .tab.active { color: var(--accent); border-bottom: 3px solid var(--accent); background: white; }
        .tab.hidden { display: none; }

        .card-body { padding: 35px; flex: 1; }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        /* Content Blocks */
        .block-title { font-size: 1.1rem; color: var(--primary); margin-bottom: 15px; font-weight: 700; border-bottom: 2px solid #f1f1f1; padding-bottom: 8px; display: flex; align-items: center; gap: 10px; }
        .text-content { font-size: 1.05rem; line-height: 1.7; color: #444; background: #fafafa; padding: 20px; border-radius: 8px; border: 1px solid #eee; }
        
        .scenario-box { background: #e8f8f5; padding: 25px; border-radius: 8px; border-left: 5px solid var(--accent); color: #0b5345; line-height: 1.6; }
        
        /* Project Box Style */
        .project-box { background: #fdf2e9; padding: 25px; border-radius: 8px; border-left: 5px solid var(--project); color: #873600; line-height: 1.6; }
        .project-title { color: var(--project); font-weight: 800; font-size: 1.2rem; display: block; margin-bottom: 10px; }

        .code-block { background: #282c34; color: #abb2bf; padding: 20px; border-radius: 8px; overflow-x: auto; font-family: 'Consolas', monospace; font-size: 0.9rem; line-height: 1.5; border: 1px solid #444; }
        
        .link-area { margin-top: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        .link-btn { text-decoration: none; padding: 8px 14px; border-radius: 4px; font-size: 0.85rem; font-weight: 600; display: inline-flex; align-items: center; gap: 6px; transition: 0.2s; background: #e3f2fd; color: #2980b9; border: 1px solid #a9cce3; }
        .link-btn:hover { background: #2980b9; color: white; }

        /* Types Grid */
        .types-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .type-card { background: white; border: 1px solid #eee; border-radius: 8px; padding: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); transition: transform 0.2s; }
        .type-card:hover { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .type-header { font-weight: 700; color: var(--primary); margin-bottom: 8px; font-size: 1rem; color: var(--accent); }
        .type-desc { font-size: 0.9rem; color: #555; margin-bottom: 12px; line-height: 1.5; }
        .type-code { background: #f8f9fa; padding: 8px; border-radius: 4px; font-family: monospace; font-size: 0.85rem; color: #c0392b; border: 1px solid #eee; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 900px) { body { flex-direction: column; } .sidebar { width: 100%; height: 350px; } }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="sidebar-header">
            <h2>‚òï Java Ultimate</h2>
        </div>
        <div class="search-box">
            <input type="text" class="search-input" placeholder="Search..." onkeyup="filterTopics(this.value)">
        </div>
        <div class="nav-container" id="navContainer"></div>
    </div>

    <div class="main-content">
        <div class="container">
            <div class="nav-controls">
                <button class="btn-nav" id="prevBtnTop" onclick="changeTopic(-1)">‚Üê Prev</button>
                <button class="btn-nav" id="nextBtnTop" onclick="changeTopic(1)">Next ‚Üí</button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h1 id="topicTitle">Select Topic</h1>
                    <span class="cat-tag" id="topicCat">Category</span>
                </div>

                <div class="tabs">
                    <div class="tab active" onclick="switchTab('core')">üìñ Core Concept</div>
                    <div class="tab" id="btn-types" onclick="switchTab('types')">üóÇÔ∏è Types & Variations</div>
                    <div class="tab" onclick="switchTab('scenario')">üè¢ Real-World</div>
                    <div class="tab" onclick="switchTab('impl')">üíª Implementation</div>
                    <div class="tab" onclick="switchTab('all')">üìë View All</div>
                </div>

                <div class="card-body">
                    <div id="tab-core" class="tab-content active">
                        <div class="block-title">Overview</div>
                        <div class="text-content" id="coreText"></div>
                        <div class="link-area" id="linkArea"></div>
                    </div>
                    
                    <div id="tab-types" class="tab-content">
                        <div class="block-title">Types Breakdown</div>
                        <div class="types-grid" id="typesContainer"></div>
                    </div>

                    <div id="tab-scenario" class="tab-content">
                        <div class="block-title">Business Use Case</div>
                        <div id="scenarioContainer"></div>
                    </div>
                    <div id="tab-impl" class="tab-content">
                        <div class="block-title">Code Example</div>
                        <pre class="code-block" id="codeText"></pre>
                    </div>
                    <div id="tab-all" class="tab-content">
                        <div id="allContent"></div>
                    </div>
                </div>
            </div>

            <div class="nav-controls">
                <button class="btn-nav" id="prevBtnBot" onclick="changeTopic(-1)">‚Üê Prev</button>
                <button class="btn-nav" id="nextBtnBot" onclick="changeTopic(1)">Next ‚Üí</button>
            </div>
        </div>
    </div>

    <script>
        // --- 75 TOPIC DATASET ---
        const topics = [
            // --- 1. BASICS & FUNDAMENTALS ---
            { id: 1, cat: "Basics", title: "Java Ecosystem", context: "Java is built on 3 pillars: JDK (Development Kit) contains tools like compilers. JRE (Runtime) contains libraries. JVM (Virtual Machine) executes the code.", example: "Spotify: Devs use JDK. You use JRE. JVM makes it run on Windows/Mac.", code: "java -version", src: "2_JDK_JRE_JVM.pdf" },
            { id: 2, cat: "Basics", title: "Variables", context: "Java is Statically Typed. Variables are containers that must have a declared type which cannot change.", example: "Banking: 'Balance' must be a number (Double), never text.", code: "double bal = 100.50;", src: "4_Primitive_Variables.pdf",
              types: [{name: "Primitive", desc: "Values stored in Stack (int, boolean)", code: "int x = 10;"}, {name: "Reference", desc: "Objects stored in Heap (String, Array)", code: "String s = \"Hi\";"}] },
            { id: 3, cat: "Basics", title: "Type Casting", context: "Converting one data type to another.", example: "GPS: Satellite gives 10.987km. Display shows 10km (Narrowing).", code: "int i = (int) 10.5;", src: "4_Primitive_Variables.pdf",
              types: [{name: "Widening", desc: "Small to Large (Safe/Auto)", code: "int -> long"}, {name: "Narrowing", desc: "Large to Small (Risk/Manual)", code: "double -> int"}] },
            { id: 4, cat: "Basics", title: "Operators", context: "Symbols to perform operations on variables.", example: "Login: (isAuth) ? 'Welcome' : 'Login';", code: "int sum = a + b;", src: "General",
              types: [{name: "Arithmetic", desc: "Math (+ - * /)", code: "a + b"}, {name: "Relational", desc: "Comparison (> < ==)", code: "a > b"}, {name: "Ternary", desc: "One line If-Else", code: "? :"}] },
            { id: 5, cat: "Basics", title: "Control Flow", context: "Directing the flow of execution based on conditions.", example: "Traffic Light: If Red -> Stop.", code: "if(red) stop();", src: "General",
              types: [{name: "If-Else", desc: "Standard branching", code: "if(x) {} else {}"}, {name: "Switch", desc: "Multi-branch selection", code: "switch(x) { case 1: ... }"}] },
            { id: 6, cat: "Basics", title: "Switch Expressions", context: "Modern Java 14+ feature. Concise syntax, return values, no fall-through.", example: "Status Labels: 1='Pending', 2='Sent'.", code: "val = switch(x) { case 1 -> 'A'; };", src: "Link 42" },
            { id: 7, cat: "Basics", title: "Loops", context: "Executing a block of code multiple times.", example: "Payroll: Loop 500 times for 500 employees.", code: "for(User u : users) {}", src: "General",
              types: [{name: "For Loop", desc: "Known iterations", code: "for(i=0; i<10; i++)"}, {name: "While Loop", desc: "Unknown iterations", code: "while(running)"}] },
            { id: 8, cat: "Basics", title: "Arrays", context: "Fixed-size container for same-type data. Fast access.", example: "Pixel Grid: 1920x1080 fixed pixels.", code: "int[] arr = new int[5];", src: "6_NonPrimitive.pdf" },
            { id: 9, cat: "Basics", title: "Methods", context: "Reusable blocks of code.", example: "CalculateTax() used in Cart and Invoice.", code: "void run() { ... }", src: "7_METHODS.pdf" },
            { id: 10, cat: "Basics", title: "Overloading", context: "Same method name, different parameters.", example: "Search(ID) vs Search(Name).", code: "search(int id); search(String s);", src: "7_METHODS.pdf" },
            { id: 11, cat: "Basics", title: "Constructors", context: "Object initialization logic.", example: "DB Connection: Require URL on creation.", code: "DB(String url) { ... }", src: "7_METHODS.pdf" },
            // PROJECT: BASICS
            { id: 12, cat: "Basics", title: "‚≠ê PROJECT: Console Bank", isProject: true,
              context: "Summary: Use Variables for balance, Scanner for input, Loops for the menu, and Switch for choices.",
              example: "ATM Logic: Loop forever. Ask '1.Add 2.Sub 3.Exit'. Update variable based on input.",
              code: "Scanner sc = new Scanner(System.in);\ndouble bal = 1000;\nwhile(true) {\n  int ch = sc.nextInt();\n  if(ch==1) bal += sc.nextDouble();\n  else break;\n}" },

            // --- 2. OOPS ---
            { id: 13, cat: "OOPS", title: "Classes & Objects", context: "Blueprint vs Instance.", example: "Blueprint: House Plan. Object: The House.", code: "House h = new House();", src: "10_Classes.pdf" },
            { id: 14, cat: "OOPS", title: "Inheritance", context: "Parent-Child relationship. Code Reuse.", example: "UberX extends Vehicle.", code: "class UberX extends Vehicle {}", src: "Link 13",
              types: [{name: "Single", desc: "A extends B", code: "class A extends B"}, {name: "Multilevel", desc: "A extends B extends C", code: "C extends B"}] },
            { id: 15, cat: "OOPS", title: "Polymorphism", context: "One interface, many forms.", example: "Payment.process() -> PayPal or Stripe.", code: "Pay p = new PayPal(); p.process();", src: "Link 14",
              types: [{name: "Compile-Time", desc: "Overloading", code: "add(a), add(a,b)"}, {name: "Runtime", desc: "Overriding", code: "@Override run()"}] },
            { id: 16, cat: "OOPS", title: "Encapsulation", context: "Data hiding.", example: "Protecting Bank Balance.", code: "private double bal;", src: "Link 15" },
            { id: 17, cat: "OOPS", title: "Abstraction", context: "Hiding complexity.", example: "Car Brake Pedal (Interface).", code: "abstract void brake();", src: "Link 16",
              types: [{name: "Abstract Class", desc: "Partial abstraction", code: "abstract class X"}, {name: "Interface", desc: "Full abstraction", code: "interface Y"}] },
            { id: 18, cat: "OOPS", title: "Interfaces", context: "Contract of capabilities.", example: "Phone implements Camera, GPS.", code: "implements GPS", src: "Link 17" },
            { id: 19, cat: "OOPS", title: "Static Keyword", context: "Class-level memory.", example: "Company Name shared by all employees.", code: "static String name;", src: "Link 18" },
            { id: 20, cat: "OOPS", title: "Final Keyword", context: "Constants / Immutability.", example: "Math.PI", code: "final double PI = 3.14;", src: "Link 19" },
            { id: 21, cat: "OOPS", title: "Super Keyword", context: "Parent access.", example: "Calling parent constructor.", code: "super();", src: "Link 20" },
            { id: 22, cat: "OOPS", title: "this Keyword", context: "Current instance.", example: "Disambiguate params.", code: "this.name = name;", src: "Link 12" },
            // PROJECT: OOPS
            { id: 23, cat: "OOPS", title: "‚≠ê PROJECT: Zoo System", isProject: true,
              context: "Summary: Inheritance for Animal types. Polymorphism for sounds. Encapsulation for health.",
              example: "Zoo: List<Animal>. Loop and call makeSound(). Lion roars, Bird chirps.",
              code: "abstract class Animal { abstract void sound(); }\nclass Lion extends Animal { void sound(){ print(\"Roar\"); } }\nList<Animal> zoo = List.of(new Lion());\nzoo.forEach(a -> a.sound());" },

            // --- 3. STRINGS & EXCEPTIONS ---
            { id: 24, cat: "Exceptions", title: "Try-Catch", context: "Handling runtime errors.", example: "File Upload failure.", code: "try {} catch(e) {}", src: "Link 23",
              types: [{name: "Checked", desc: "Compile-time (File)", code: "IOException"}, {name: "Unchecked", desc: "Runtime (Logic)", code: "NullPointer"}] },
            { id: 25, cat: "Exceptions", title: "Throw vs Throws", context: "Action vs Declaration.", example: "Throw 'NoFunds'.", code: "throw new Ex();", src: "Link 25" },
            { id: 26, cat: "Exceptions", title: "Finally", context: "Cleanup.", example: "Close DB.", code: "finally { close(); }", src: "Link 24" },
            { id: 27, cat: "Strings", title: "Immutability", context: "Strings cannot change.", example: "String Pool efficiency.", code: "s = \"New\";", src: "Link 21" },
            { id: 28, cat: "Strings", title: "StringBuilder", context: "Mutable strings.", example: "Building CSV reports.", code: "sb.append();", src: "Link 22" },
            // PROJECT: EXCEPTIONS
            { id: 29, cat: "Exceptions", title: "‚≠ê PROJECT: Error Logger", isProject: true,
              context: "Summary: Try-Catch to handle failures. StringBuilder to format logs.",
              example: "Server Log: Catch crash, format timestamp+error, save to file.",
              code: "try { process(); } catch(Exception e) {\n  StringBuilder log = new StringBuilder();\n  log.append(\"[ERR] \").append(e.msg);\n  save(log.toString());\n}" },

            // --- 4. MEMORY & COLLECTIONS ---
            { id: 30, cat: "Memory", title: "Stack vs Heap", context: "Execution vs Storage.", example: "Recursion (Stack), Objects (Heap).", code: "int x; User u;", src: "9_Memory.pdf" },
            { id: 31, cat: "Memory", title: "Garbage Collection", context: "Auto memory cleanup.", example: "Closing Browser Tab.", code: "obj = null;", src: "9_Memory.pdf" },
            { id: 32, cat: "Collections", title: "List Interface", context: "Ordered collection.", example: "Shopping Cart.", code: "List<String> l;", src: "Link 46",
              types: [{name: "ArrayList", desc: "Fast Read", code: "new ArrayList()"}, {name: "LinkedList", desc: "Fast Insert", code: "new LinkedList()"}] },
            { id: 33, cat: "Collections", title: "Map Interface", context: "Key-Value.", example: "Session Cache.", code: "Map<K,V> m;", src: "Link 52",
              types: [{name: "HashMap", desc: "Unordered Fast", code: "new HashMap()"}, {name: "TreeMap", desc: "Sorted Keys", code: "new TreeMap()"}] },
            { id: 34, cat: "Collections", title: "Set Interface", context: "Unique items.", example: "Email List.", code: "Set<T> s;", src: "Link 49",
              types: [{name: "HashSet", desc: "Unordered", code: "new HashSet()"}, {name: "TreeSet", desc: "Sorted", code: "new TreeSet()"}] },
            { id: 35, cat: "Collections", title: "Generics", context: "Type Safety.", example: "Box<Shoes>.", code: "List<String> s;", src: "10_Classes.pdf" },
            { id: 36, cat: "Collections", title: "Comparable", context: "Sorting.", example: "Sort by ID.", code: "compareTo()", src: "General" },
            // PROJECT: COLLECTIONS
            { id: 37, cat: "Collections", title: "‚≠ê PROJECT: Cart System", isProject: true,
              context: "Summary: HashMap for item lookup. ArrayList for display.",
              example: "Amazon: Add item -> Check Map (Exists?). Display Cart -> Iterate List.",
              code: "Map<String, Item> cart = new HashMap<>();\ncart.put(\"ID_1\", new Item(\"Apple\", 2.0));\n\nfor(Item i : cart.values()) {\n  total += i.price;\n}" },

            // --- 5. THREADS & MODERN ---
            { id: 38, cat: "Threads", title: "Multithreading", context: "Parallelism.", example: "UI + Background Task.", code: "thread.start()", src: "Link 54",
              types: [{name: "Thread", desc: "Extend Thread", code: "class T extends Thread"}, {name: "Runnable", desc: "Implement Interface", code: "implements Runnable"}] },
            { id: 39, cat: "Threads", title: "Synchronization", context: "Thread Safety.", example: "Booking Seat.", code: "synchronized method()", src: "Link 58" },
            { id: 40, cat: "Modern", title: "Lambdas", context: "Functional Code.", example: "OnClick Listener.", code: "e -> print(e)", src: "Link 69" },
            { id: 41, cat: "Modern", title: "Streams", context: "Declarative Data.", example: "Filter > $50.", code: "list.stream().filter()", src: "General" },
            { id: 42, cat: "Modern", title: "Optional", context: "Null Safety.", example: "DB Result.", code: "opt.orElse()", src: "General" },
            { id: 43, cat: "Tools", title: "Lombok", context: "Boilerplate.", example: "@Data DTOs.", code: "@Data class User{}", src: "Link 39" },
            { id: 44, cat: "Modern", title: "Records", context: "Data Carrier.", example: "API Response.", code: "record Pt(x,y){}", src: "Link 45" },
            // PROJECT: THREADS
            { id: 45, cat: "Threads", title: "‚≠ê PROJECT: Downloader", isProject: true,
              context: "Summary: Threads for background tasks. Sync to update progress bar.",
              example: "Chrome: 3 files downloading at once.",
              code: "new Thread(() -> {\n  print(\"Downloading File 1...\");\n}).start();\nnew Thread(() -> {\n  print(\"Downloading File 2...\");\n}).start();" },

            // --- 6. SPRING BOOT ---
            { id: 46, cat: "Spring Boot", title: "Architecture", context: "Auto-Config.", example: "Web App 5 mins.", code: "@SpringBootApp", src: "User Link" },
            { id: 47, cat: "Spring Boot", title: "Dependency Injection", context: "Wiring Beans.", example: "Inject Service.", code: "@Autowired", src: "General",
              types: [{name: "Constructor", desc: "Best Practice", code: "User(Svc s)"}, {name: "Field", desc: "Easier", code: "@Autowired Svc s"}] },
            { id: 48, cat: "Spring Boot", title: "Scopes", context: "Bean Lifecycle.", example: "Singleton Svc.", code: "@Scope", src: "General",
              types: [{name: "Singleton", desc: "1 per App", code: "Default"}, {name: "Prototype", desc: "New per req", code: "@Scope('prototype')"}] },
            { id: 49, cat: "Spring Boot", title: "REST API", context: "Endpoints.", example: "GET /users.", code: "@RestController", src: "General" },
            { id: 50, cat: "Security", title: "Basics", context: "AuthN/AuthZ.", example: "Login.", code: "http.auth()", src: "User Link" },
            { id: 51, cat: "Security", title: "OAuth 2", context: "Social Login.", example: "Google Signin.", code: "@EnableOAuth2", src: "User Link" },
            { id: 52, cat: "Security", title: "RBAC", context: "Roles.", example: "Admin Only.", code: "@PreAuthorize", src: "User Link" },
            // PROJECT: SPRING
            { id: 53, cat: "Spring Boot", title: "‚≠ê PROJECT: Todo API", isProject: true,
              context: "Summary: Controller for endpoints, Service for logic, Repo for data.",
              example: "Todo App: POST /add, GET /list.",
              code: "@RestController\nclass API {\n  @Autowired Svc s;\n  @GetMapping(\"/todos\")\n  List<T> get() { return s.getAll(); }\n}" },

            // --- 7. MICROSERVICES ---
            { id: 54, cat: "Microservices", title: "RestClient", context: "Sync HTTP.", example: "Order->Inventory.", code: "client.get()", src: "User Link" },
            { id: 55, cat: "Microservices", title: "Feign", context: "Declarative HTTP.", example: "Interface calls.", code: "@FeignClient", src: "User Link" },
            { id: 56, cat: "Microservices", title: "Discovery", context: "Eureka.", example: "Scaling.", code: "@EnableEureka", src: "User Link" },
            { id: 57, cat: "Microservices", title: "Gateway", context: "Entry Point.", example: "Routing.", code: "routes: /api", src: "User Link" },
            { id: 58, cat: "Microservices", title: "Load Balancer", context: "Distribution.", example: "Round Robin.", code: "@LoadBalanced", src: "User Link" },
            { id: 59, cat: "Microservices", title: "Resilience", context: "Fault Tolerance.", example: "Circuit Breaker.", code: "Resilience4j", src: "User Link" },
            { id: 60, cat: "Microservices", title: "Config Server", context: "Central Props.", example: "Git Config.", code: "config-server", src: "User Link" },
            { id: 61, cat: "Microservices", title: "Circuit Breaker", context: "Fail Fast.", example: "Stop dead calls.", code: "@CircuitBreaker", src: "User Link" },
            // PROJECT: MICROSERVICES
            { id: 62, cat: "Microservices", title: "‚≠ê PROJECT: Shop Mesh", isProject: true,
              context: "Summary: Order Service checks Inventory via Feign. Registered on Eureka.",
              example: "E-commerce: Order Svc -> Discovery -> Inventory Svc.",
              code: "@FeignClient(\"inventory\")\ninterface Inv {\n  @GetMapping(\"/stock\") int check();\n}\n// Use in Order Service\nif(inv.check() > 0) buy();" },

            // --- 8. JPA & ADVANCED ---
            { id: 63, cat: "JPA", title: "Mappings", context: "Relations.", example: "User-Profile.", code: "@OneToOne", src: "Link 72",
              types: [{name: "1-1", desc: "User-Profile", code: "@OneToOne"}, {name: "1-N", desc: "User-Orders", code: "@OneToMany"}] },
            { id: 64, cat: "JPA", title: "Repositories", context: "DB Access.", example: "FindByID.", code: "extends JpaRepo", src: "Link 75" },
            { id: 65, cat: "Advanced", title: "Serialization", context: "Byte Stream.", example: "Save State.", code: "Serializable", src: "Link 65" },
            { id: 66, cat: "Advanced", title: "Design Patterns", context: "Solutions.", example: "Singleton.", code: "getInstance()", src: "10_Classes.pdf",
              types: [{name: "Singleton", desc: "1 Instance", code: "static Inst"}, {name: "Factory", desc: "Creator", code: "create()"}] },
            { id: 67, cat: "Advanced", title: "Docker", context: "Container.", example: "Ship App.", code: "Dockerfile", src: "General" },
            // PROJECT: JPA
            { id: 68, cat: "JPA", title: "‚≠ê PROJECT: Blog DB", isProject: true,
              context: "Summary: User (1) <-> (N) Posts. Save to MySQL.",
              example: "Blog: User writes many posts. Fetch User gets Posts too.",
              code: "@Entity User { @Id int id; @OneToMany List<Post> p; }\n@Entity Post { @ManyToOne User u; }\n// Repo saves relations auto" }
        ];

        let currentIndex = 0;

        // --- RENDER LOGIC ---
        function renderSidebar() {
            const container = document.getElementById('navContainer');
            container.innerHTML = "";
            const groups = {};
            
            topics.forEach((t, i) => {
                if(!groups[t.cat]) groups[t.cat] = [];
                groups[t.cat].push({...t, idx: i});
            });

            for(const [cat, items] of Object.entries(groups)) {
                const grp = document.createElement('div');
                grp.className = 'cat-group';
                grp.id = `cat-${cat}`;
                
                grp.innerHTML = `
                    <div class="cat-header" onclick="toggleCat('${cat}')">
                        <span>${cat} <span class="badge">${items.length}</span></span>
                        <span>‚ñº</span>
                    </div>
                    <ul class="cat-list">
                        ${items.map(item => `
                            <li class="nav-item ${item.isProject ? 'project-item' : ''}" id="nav-${item.idx}" onclick="loadTopic(${item.idx})">
                                ${item.isProject ? item.title : item.id + '. ' + item.title}
                            </li>
                        `).join('')}
                    </ul>
                `;
                container.appendChild(grp);
            }
        }

        function toggleCat(cat) {
            document.getElementById(`cat-${cat}`).classList.toggle('open');
        }

        function loadTopic(index) {
            currentIndex = index;
            const t = topics[index];

            // 1. Sidebar Active
            document.querySelectorAll('.nav-item').forEach(e => e.classList.remove('active'));
            const activeNav = document.getElementById(`nav-${index}`);
            if(activeNav) {
                activeNav.classList.add('active');
                const group = activeNav.closest('.cat-group');
                if(!group.classList.contains('open')) group.classList.add('open');
                setTimeout(() => activeNav.scrollIntoView({block: 'nearest'}), 100);
            }

            // 2. Header
            document.getElementById('topicTitle').innerText = t.title;
            document.getElementById('topicCat').innerText = t.cat;
            
            // 3. Core
            document.getElementById('coreText').innerText = t.context;
            const linkDiv = document.getElementById('linkArea');
            linkDiv.innerHTML = "";
            if(t.src && !t.isProject) linkDiv.innerHTML += `<a href="#" class="link-btn link-note">üìÑ ${t.src}</a>`;
            if(t.link) linkDiv.innerHTML += `<a href="${t.link}" target="_blank" class="link-btn link-note">üîó Open Link</a>`;
            if(t.git) linkDiv.innerHTML += `<a href="${t.git}" target="_blank" class="link-btn link-git">ü¶ä Git Code</a>`;

            // 4. Types Tab Visibility
            const typesBtn = document.getElementById('btn-types');
            const typesContainer = document.getElementById('typesContainer');
            if(t.types && t.types.length > 0) {
                typesBtn.classList.remove('hidden');
                typesContainer.innerHTML = t.types.map(type => `
                    <div class="type-card">
                        <div class="type-header">${type.name}</div>
                        <div class="type-desc">${type.desc}</div>
                        <div class="type-code">${type.code}</div>
                    </div>
                `).join('');
            } else {
                typesBtn.classList.add('hidden');
                // Ensure we aren't stuck on the hidden Types tab
                if(document.querySelector('.tab.active').id === 'btn-types') switchTab('core');
            }

            // 5. Scenario vs Project
            const scenBox = document.getElementById('scenarioContainer');
            if(t.isProject) {
                scenBox.className = 'project-box';
                scenBox.innerHTML = `<span class="project-title">Mini Project Scope</span>${t.example}`;
            } else {
                scenBox.className = 'scenario-box';
                scenBox.innerHTML = `<strong>Real-World Use Case:</strong> ${t.example}`;
            }

            // 6. Code
            document.getElementById('codeText').innerText = t.code;

            // 7. All Tab
            let typesHtml = t.types ? `<div class="block-title">Types</div><div class="types-grid">${typesContainer.innerHTML}</div><br>` : '';
            document.getElementById('allContent').innerHTML = `
                <div class="block-title">Overview</div>
                <div class="text-content">${t.context}</div>
                <br>
                ${typesHtml}
                <div class="block-title">${t.isProject ? 'Project Scope' : 'Scenario'}</div>
                <div class="${t.isProject ? 'project-box' : 'scenario-box'}">${t.example}</div>
                <br>
                <div class="block-title">Code</div>
                <pre class="code-block">${t.code}</pre>
            `;

            // 8. Buttons
            document.getElementById('prevBtnTop').disabled = (index === 0);
            document.getElementById('prevBtnBot').disabled = (index === 0);
            document.getElementById('nextBtnTop').disabled = (index === topics.length - 1);
            document.getElementById('nextBtnBot').disabled = (index === topics.length - 1);
        }

        function changeTopic(dir) {
            const next = currentIndex + dir;
            if(next >= 0 && next < topics.length) loadTopic(next);
        }

        function switchTab(name) {
            document.querySelectorAll('.tab').forEach(e => e.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(e => e.classList.remove('active'));
            
            const tabMap = { 'core': 0, 'types': 1, 'scenario': 2, 'impl': 3, 'all': 4 };
            // Find tab index logic adjusted for dynamic tabs
            // Simpler: use ID if possible, or query selector
            if(name === 'types') document.getElementById('btn-types').classList.add('active');
            else {
                // Approximate mapping, fallback to removing 'types' from calculation if hidden
                // For simplicity in this demo, just iterating
                const tabs = Array.from(document.querySelectorAll('.tab:not(.hidden)'));
                // This logic handles dynamic hiding
                document.querySelectorAll('.tab').forEach(t => {
                    if(t.getAttribute('onclick').includes(name)) t.classList.add('active');
                });
            }
            document.getElementById(`tab-${name}`).classList.add('active');
        }

        function filterTopics(val) {
            const term = val.toLowerCase();
            const groups = document.querySelectorAll('.cat-group');
            
            groups.forEach(grp => {
                const items = grp.querySelectorAll('.nav-item');
                let hasMatch = false;
                items.forEach(item => {
                    const txt = item.innerText.toLowerCase();
                    const match = txt.includes(term);
                    item.style.display = match ? 'block' : 'none';
                    if(match) hasMatch = true;
                });
                grp.style.display = hasMatch ? 'block' : 'none';
                if(term) grp.classList.add('open');
            });
        }

        // Init
        renderSidebar();
        loadTopic(0);

    </script>
</body>
</html>
