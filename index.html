<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Professional Mastery v2</title>
    <style>
        :root { 
            --primary: #2c3e50; 
            --accent: #27ae60; 
            --bg: #eaeff2; 
            --text: #333;
            --sidebar-width: 340px;
            --tab-active: #fff;
            --tab-inactive: #f1f1f1;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 0; display: flex; height: 100vh; background: var(--bg); color: var(--text); }
        
        /* Sidebar */
        .sidebar { width: var(--sidebar-width); background: #1e272e; color: white; display: flex; flex-direction: column; border-right: 1px solid #1a252f; flex-shrink: 0; transition: width 0.3s; }
        .sidebar-header { padding: 20px; background: #111; text-align: center; border-bottom: 4px solid var(--accent); }
        .sidebar-header h2 { margin: 0; font-size: 1.2rem; letter-spacing: 1px; color: var(--accent); }
        .search-box { padding: 10px 15px; background: #2d3436; }
        .search-input { width: 100%; padding: 10px; border-radius: 4px; border: none; outline: none; background: #dfe6e9; color: #333; font-weight: 600; }
        
        .nav-list { list-style: none; padding: 0; margin: 0; overflow-y: auto; flex: 1; }
        .nav-item { padding: 12px 18px; border-bottom: 1px solid #2d3436; cursor: pointer; transition: all 0.2s; display: flex; align-items: center; }
        .nav-item:hover { background: rgba(255,255,255,0.05); padding-left: 22px; }
        .nav-item.active { background: var(--accent); color: white; padding-left: 22px; border-left: 4px solid white; }
        .nav-id { font-weight: bold; background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 4px; margin-right: 10px; font-size: 0.75rem; min-width: 25px; text-align: center; }
        .nav-cat { font-size: 0.7rem; text-transform: uppercase; opacity: 0.7; margin-left: auto; letter-spacing: 0.5px; border: 1px solid rgba(255,255,255,0.2); padding: 1px 4px; border-radius: 3px; }

        /* Main Content */
        .main-content { flex: 1; padding: 30px; overflow-y: auto; display: flex; flex-direction: column; }
        .container { max-width: 950px; margin: 0 auto; width: 100%; }
        
        /* Navigation Controls (Top/Bottom) */
        .nav-controls { display: flex; justify-content: space-between; margin-bottom: 15px; margin-top: 15px; }
        .btn-nav { padding: 8px 16px; background: var(--primary); color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 5px; transition: 0.2s; }
        .btn-nav:hover { background: var(--accent); }
        .btn-nav:disabled { background: #bdc3c7; cursor: not-allowed; }

        /* Card */
        .card { background: white; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); overflow: hidden; display: flex; flex-direction: column; min-height: 400px; }
        .card-header { background: var(--primary); color: white; padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; }
        .card-header h1 { margin: 0; font-size: 1.5rem; }

        /* Tabs */
        .tabs { display: flex; background: #f1f2f6; border-bottom: 1px solid #ddd; padding: 0 20px; gap: 5px; overflow-x: auto;}
        .tab { padding: 12px 20px; cursor: pointer; font-weight: 600; color: #7f8c8d; border-bottom: 3px solid transparent; transition: 0.2s; font-size: 0.95rem; display: flex; align-items: center; gap: 6px; }
        .tab:hover { color: var(--primary); background: rgba(0,0,0,0.02); }
        .tab.active { color: var(--accent); border-bottom: 3px solid var(--accent); background: white; }

        .card-body { padding: 30px; flex: 1; }
        .tab-content { display: none; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        /* Content Blocks */
        .content-block { margin-bottom: 25px; }
        .block-title { font-size: 1.1rem; color: var(--primary); margin-bottom: 10px; display: flex; align-items: center; gap: 8px; font-weight: 700; border-bottom: 2px solid #eee; padding-bottom: 5px; }
        
        .context-text { font-size: 1.05rem; line-height: 1.6; color: #444; }
        .link-group { margin-top: 15px; display: flex; gap: 10px; flex-wrap: wrap; }
        .ext-link { text-decoration: none; font-size: 0.9rem; padding: 6px 12px; border-radius: 4px; display: inline-flex; align-items: center; gap: 6px; font-weight: 600; border: 1px solid transparent; }
        .link-note { background: #eaf2f8; color: #2980b9; border-color: #aed6f1; }
        .link-note:hover { background: #d4e6f1; }
        .link-git { background: #fdf2e9; color: #d35400; border-color: #fad7a0; }
        .link-git:hover { background: #fbeee6; }

        .scenario-box { background: #e8f8f5; padding: 20px; border-radius: 6px; border-left: 4px solid var(--accent); color: #0b5345; }
        .code-block { background: #282c34; color: #abb2bf; padding: 20px; border-radius: 6px; overflow-x: auto; font-family: 'Consolas', monospace; line-height: 1.5; font-size: 0.95rem; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        @media (max-width: 900px) { body { flex-direction: column; } .sidebar { width: 100%; height: 250px; } .tabs { flex-wrap: wrap; } }
    </style>
</head>
<body>

    <div class="sidebar">
        <div class="sidebar-header">
            <h2>‚òï Java Ultimate</h2>
        </div>
        <div class="search-box">
            <input type="text" class="search-input" placeholder="Search Topic..." onkeyup="filterTopics(this.value)">
        </div>
        <ul class="nav-list" id="navList"></ul>
    </div>

    <div class="main-content">
        <div class="container">
            
            <div class="nav-controls">
                <button class="btn-nav" id="prevBtnTop" onclick="prevTopic()">‚Üê Prev</button>
                <button class="btn-nav" id="nextBtnTop" onclick="nextTopic()">Next ‚Üí</button>
            </div>

            <div class="card">
                <div class="card-header">
                    <h1 id="topicTitle">Select a Topic</h1>
                    <span id="topicCat" style="opacity:0.8; font-size: 0.9rem; background: rgba(255,255,255,0.2); padding: 4px 10px; border-radius: 12px;">Category</span>
                </div>

                <div class="tabs">
                    <div class="tab active" onclick="switchTab('core')">üìñ Core Concept</div>
                    <div class="tab" onclick="switchTab('scenario')">üè¢ Real-World Scenario</div>
                    <div class="tab" onclick="switchTab('impl')">üíª Implementation</div>
                    <div class="tab" onclick="switchTab('all')">üìë View All</div>
                </div>

                <div class="card-body">
                    <div id="tab-core" class="tab-content active">
                        <div class="content-block">
                            <div class="block-title">Overview</div>
                            <div class="context-text" id="contextText"></div>
                            
                            <div id="linkSection" class="link-group"></div>
                        </div>
                    </div>

                    <div id="tab-scenario" class="tab-content">
                        <div class="content-block">
                            <div class="block-title">Use Case</div>
                            <div class="scenario-box" id="scenarioText"></div>
                        </div>
                    </div>

                    <div id="tab-impl" class="tab-content">
                        <div class="content-block">
                            <div class="block-title">Code Example</div>
                            <div class="code-block" id="codeText"></div>
                        </div>
                    </div>

                    <div id="tab-all" class="tab-content">
                        <div id="allContent"></div>
                    </div>
                </div>
            </div>

            <div class="nav-controls">
                <button class="btn-nav" id="prevBtnBot" onclick="prevTopic()">‚Üê Prev</button>
                <button class="btn-nav" id="nextBtnBot" onclick="nextTopic()">Next ‚Üí</button>
            </div>

        </div>
    </div>

    <script>
        // --- DATA ---
        // Merged dataset (Core + Spring + Microservices)
        const topics = [
            // BASICS & CORE
            { id: 1, cat: "Core", title: "Java Architecture", context: "JDK (Dev Kit) > JRE (Runtime) > JVM (Virtual Machine). The JVM acts as an interpreter between Bytecode (.class) and the Operating System, enabling 'Write Once, Run Anywhere'.", example: "Spotify app running identically on Windows, Mac, and Linux because the JVM abstracts the OS differences.", code: "java -version\njavac MyCode.java", src: "2_JDK_JRE_JVM.pdf" },
            { id: 2, cat: "Core", title: "Static Typing", context: "Java enforces variable types at compile-time. You cannot assign a String to an Integer variable. This strictness catches bugs early.", example: "Banking Ledger: You cannot accidentally subtract a User Name (String) from a Balance (Double).", code: "int id = 10;\n// id = \"Hello\"; // Compile Error", src: "4_Primitive_Variables.pdf" },
            { id: 3, cat: "Core", title: "Stack vs Heap", context: "Stack stores primitive variables and method calls (LIFO). It is fast and thread-specific. Heap stores Objects. It is large, shared, and managed by GC.", example: "Recursion (Stack) vs Database Result Set (Heap).", code: "int x = 5; // Stack\nUser u = new User(); // Heap", src: "9_Memory.pdf", link: "https://notebook.zohopublic.in/public/notes/74tdo3074d38916474ae096fe57ad9f2ff54b" },
            { id: 4, cat: "OOPS", title: "Polymorphism", context: "The ability of an object to take on many forms. A parent reference can hold a child object, and the child's overridden method will execute.", example: "Notification System: send(Email), send(SMS), send(Push). All implement 'Notification'.", code: "Notification n = new Email();\nn.send(); // Sends Email", src: "1_OOPS.pdf", link: "https://notebook.zohopublic.in/public/notes/u3i1s033d318172e442b8b8f242767b93776c" },
            { id: 5, cat: "OOPS", title: "Encapsulation", context: "Restricting direct access to data fields. Using 'private' variables and 'public' getters/setters allows validation logic.", example: "Bank Account: You can't set balance = -500. You must call withdraw(500) which checks funds.", code: "private double balance;\npublic void setBal(double b) { if(b>0) balance=b; }", src: "1_OOPS.pdf" },
            
            // COLLECTIONS & THREADS
            { id: 6, cat: "Collections", title: "HashMap", context: "Stores data in Key-Value pairs. Uses hashing to compute an index, providing O(1) average time complexity for retrieval.", example: "Caching: Storing User Sessions where Key=SessionID and Value=UserProfile.", code: "Map<String, User> cache = new HashMap<>();\ncache.put(\"SID_123\", userObj);", src: "Link 52", link: "https://notebook.zohopublic.in/public/notes/bietv379bff087eca47eaa84a3024d7e14b46" },
            { id: 7, cat: "Threads", title: "Multithreading", context: "Executing multiple threads simultaneously to maximize CPU usage. Essential for responsive UIs and handling multiple server requests.", example: "Web Browser: One thread downloads the file, another keeps the UI responsive so you can scroll.", code: "Thread t = new Thread(() -> downloadFile());\nt.start();", src: "Link 54", link: "https://notebook.zohopublic.in/public/notes/dcr5ze84495de6ad14cadbf5fe38b99b18b9d" },
            
            // TOOLS & MODERN JAVA
            { id: 8, cat: "Tools", title: "Lombok", context: "A library that generates boilerplate code (Getters, Setters, Constructors) at compile time using annotations.", example: "User DTOs: Instead of writing 100 lines of getters/setters, use @Data.", code: "@Data\npublic class User {\n  private String name;\n}", src: "Link 39", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52!s702f41494956441a8efc212c0ffa52e5" },
            { id: 9, cat: "Modern", title: "Java Records", context: "Introduced in Java 16. A concise way to create immutable data carrier classes. Replaces POJOs for simple data holding.", example: "API Response: Returning Coordinates (x,y) from a backend.", code: "public record Point(int x, int y) {}", src: "Link 45", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52!s702f41494956441a8efc212c0ffa52e5" },
            
            // SPRING BOOT & SECURITY
            { id: 40, cat: "Spring Boot", title: "Spring Boot Architecture", context: "Simplifies Spring apps with 'Auto-Configuration' and 'Embedded Servers' (Tomcat). It scans your classpath and configures beans automatically.", example: "Microservices: Spinning up a new service in 5 mins without XML config.", code: "@SpringBootApplication\npublic class App { main() { run(App.class); } }", src: "User Link", link: "https://onedrive.live.com/:o:/g/personal/6B364628C29FEB52/EksLbbBuPIhDjFYNjtEw6kEB7wRxe5wd2oWXREL9gKphEg?resid=6B364628C29FEB52!sb06d0b4b3c6e43888c560d8ed130ea41&ithint=onenote&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0Vrc0xiYkJ1UEloRGpGWU5qdEV3NmtFQjd3UnhlNXdkMm9XWFJFTDlnS3BoRWc" },
            { id: 41, cat: "Security", title: "Spring Security Basics", context: "Authentication (Who) and Authorization (What). Uses a filter chain to intercept requests.", example: "Login Page: Intercepts request, checks credentials, issues Session/Token.", code: "http.authorizeRequests().anyRequest().authenticated();", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52!sb06d0b4b3c6e43888c560d8ed130ea41&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0Vrc0xiYkJ1UEloRGpGWU5qdEV3NmtFQjd3UnhlNXdkMm9XWFJFTDlnS3BoRWc&wd=target(SpringBoot.one%7Cd37c24fe-34a1-2046-885f-ef3807025388%2FSpringBoot%20Security%20-%20Part2%20and%20Part3%7C7e5c2090-8ff6-dc46-9ade-25cf32f7e4eb%2F)&wdorigin=703" },
            { id: 42, cat: "Security", title: "OAuth 2.0 Integration", context: "Delegated authorization. Allows users to log in via Google/Facebook without sharing passwords.", example: "Social Login: 'Sign in with Google' button.", code: "@EnableOAuth2Sso", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52!sb06d0b4b3c6e43888c560d8ed130ea41&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0Vrc0xiYkJ1UEloRGpGWU5qdEV3NmtFQjd3UnhlNXdkMm9XWFJFTDlnS3BoRWc&wd=target(SpringBoot.one%7Cd37c24fe-34a1-2046-885f-ef3807025388%2FSpringBoot%20Security%20-%20Part8%20(OAuth%20Authentication%5C)%7Cf5c0fea5-77d9-bb45-a1fc-fc6285059c1a%2F)&wdorigin=703", git: "https://gitlab.com/shrayansh8/interviewcodingpractise/-/tree/main/src/main/java/com/conceptandcoding/learningspringboot/OAuth" },
            { id: 43, cat: "Security", title: "RBAC (Role Based)", context: "Restricting access based on User Roles (Admin, User, Manager).", example: "HR Portal: Only 'Admin' can delete employees.", code: "@PreAuthorize(\"hasRole('ADMIN')\")", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52!sb06d0b4b3c6e43888c560d8ed130ea41&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0Vrc0xiYkJ1UEloRGpGWU5qdEV3NmtFQjd3UnhlNXdkMm9XWFJFTDlnS3BoRWc&wd=target(SpringBoot.one%7Cd37c24fe-34a1-2046-885f-ef3807025388%2FSpring%20boot%20-%20Part9%20(Role%20based%20Authorization%20-%20Annotations%5C)%7C941edfd8-801e-9c46-963e-d79b8b8c9607%2F)&wdorigin=703" },
            
            // MICROSERVICES
            { id: 44, cat: "Microservices", title: "RestClient", context: "Modern synchronous HTTP client (Spring 3.2+). Replaces RestTemplate.", example: "Order Service calling Inventory Service API.", code: "restClient.get().uri(\"/stock\").retrieve();", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FRestClient%7C0d8b2f2c-6b98-4a43-b5e7-c85058aaed36%2F%29&wdorigin=703" },
            { id: 45, cat: "Microservices", title: "Feign Client", context: "Declarative Web Service Client. You write an Interface, Spring writes the implementation.", example: "Simplifying HTTP calls between services.", code: "@FeignClient(name=\"inventory\") interface InvClient {}", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FFeignClient%7C58a280a8-cde1-2744-9639-da22cbd670c2%2F%29&wdorigin=703" },
            { id: 46, cat: "Microservices", title: "Service Discovery", context: "Eureka Server. Services register themselves so others can find them by name, not IP.", example: "Scaling: Adding 5 Inventory instances dynamically.", code: "@EnableEurekaServer", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FService+Discovery%7Cbe9efdfc-f515-344f-b765-9b58c71e6cdb%2F%29&wdorigin=703" },
            { id: 47, cat: "Microservices", title: "Load Balancing", context: "Client-side load balancing. Distributing requests among available service instances.", example: "Round-robin requests to 3 different Inventory nodes.", code: "@LoadBalanced WebClient.Builder", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FClient+Side+Load+Balancer%7Ca0e35fce-9ab3-774d-a9a5-1a83bcd9e0f9%2F%29&wdorigin=703" },
            { id: 48, cat: "Resilience", title: "Resilience4j", context: "Fault tolerance library. Prevents cascading failures when a service goes down.", example: "Fallback: Return cached data if DB is down.", code: "// CircuitBreaker, Retry, Bulkhead", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FResilience4j+Building+Fault-Tolerant+Microservice%7Ca0095666-1317-4f4c-b672-a8915839634d%2F%29&wdorigin=703" },
            { id: 49, cat: "Resilience", title: "Bulkhead Pattern", context: "Isolating resources (thread pools). Failure in one part doesn't crash the whole system.", example: "Payment Service threads separate from Browsing threads.", code: "@Bulkhead(name=\"api\")", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FBulkhead+Fault-Tolerant+Microservice+%28Part-2%5C%29%7Cc82898a8-8c19-df43-a956-00d6d5ce44fc%2F%29&wdorigin=703" },
            { id: 50, cat: "Resilience", title: "Retry Pattern", context: "Automatically retrying failed operations for transient errors.", example: "Network timeout? Try again in 200ms.", code: "@Retry(name=\"backend\")", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FRetry+Fault-Tolerant+Microservice+%28Part-3%5C%29%7C8d82083b-9805-4b47-bafa-6cea3f88f6a4%2F%29&wdorigin=703" },
            { id: 51, cat: "Resilience", title: "Circuit Breaker", context: "Stops making requests to a dead service to allow it to recover.", example: "Email Service dead? Stop calling it for 30s.", code: "@CircuitBreaker", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FCircuit+Breaker+Fault-Tolerant+Microservice+%28Part-%7Caff21d09-7e7c-4a43-b09c-50e7a2c70e82%2F%29&wdorigin=703" },
            { id: 52, cat: "Microservices", title: "API Gateway", context: "Single entry point for all clients. Handles Routing, Auth, and Throttling.", example: "Route /orders -> OrderService.", code: "spring.cloud.gateway.routes", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FAPI+Gateway%7C3bb17da8-1963-2f47-b15a-a530443924cf%2F%29&wdorigin=703", git: "https://gitlab.com/shrayansh8/springboot-microservices/-/tree/main/apigateway_part1?ref_type=heads" },
            { id: 53, cat: "Microservices", title: "Centralized Config", context: "Managing properties for all services in one Git repo. Services fetch config at startup.", example: "Changing 'Dark Mode' feature flag for 10 apps at once.", code: "spring.config.import=configserver:", src: "User Link", link: "https://onedrive.live.com/view.aspx?resid=6B364628C29FEB52%21s9263727369a94fcd83cbce0c0db8053c&migratedtospo=true&redeem=aHR0cHM6Ly8xZHJ2Lm1zL28vYy82YjM2NDYyOGMyOWZlYjUyL0VuTnlZNUtwYWMxUGc4dk9EQTI0QlR3Qk5seWhEdlJlRWctS0RWWjdNZV9aWkE&wd=target%28New+Section+1.one%7C1c705580-121a-3746-9837-b97f7646a06a%2FCentralized+Configuration%7Cfc15fdca-d6a1-8f40-b677-08a3d45ac351%2F%29&wdorigin=703" }
        ];

        let currentTopicIndex = 0;

        // --- FUNCTIONS ---
        function renderSidebar(items) {
            const list = document.getElementById('navList');
            list.innerHTML = "";
            items.forEach((t, index) => {
                const li = document.createElement('li');
                li.className = 'nav-item';
                li.id = `nav-${index}`;
                li.innerHTML = `
                    <span class="nav-id">${t.id}</span>
                    <span class="nav-text">${t.title}</span>
                    <span class="nav-cat">${t.cat}</span>
                `;
                li.onclick = () => loadTopic(index);
                list.appendChild(li);
            });
        }

        function loadTopic(index) {
            currentTopicIndex = index;
            const t = topics[index];

            // 1. Sidebar Active State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const activeItem = document.getElementById(`nav-${index}`);
            if(activeItem) {
                activeItem.classList.add('active');
                activeItem.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }

            // 2. Button States
            const prevDisabled = (index === 0);
            const nextDisabled = (index === topics.length - 1);
            
            document.getElementById('prevBtnTop').disabled = prevDisabled;
            document.getElementById('nextBtnTop').disabled = nextDisabled;
            document.getElementById('prevBtnBot').disabled = prevDisabled;
            document.getElementById('nextBtnBot').disabled = nextDisabled;

            // 3. Render Header
            document.getElementById('topicTitle').innerText = t.id + ". " + t.title;
            document.getElementById('topicCat').innerText = t.cat + (t.src ? ` | ${t.src}` : "");

            // 4. Render Core Content
            document.getElementById('contextText').innerText = t.context;
            
            // 5. Render Links (Core Tab)
            const linkArea = document.getElementById('linkSection');
            linkArea.innerHTML = "";
            
            if (t.link) {
                linkArea.innerHTML += `<a href="${t.link}" target="_blank" class="ext-link link-note">üîó Open Original Note / PDF</a>`;
            }
            if (t.git) {
                linkArea.innerHTML += `<a href="${t.git}" target="_blank" class="ext-link link-git">ü¶ä View Source Code</a>`;
            }

            // 6. Render Scenario & Code
            document.getElementById('scenarioText').innerHTML = `<strong>Use Case:</strong> ${t.example}`;
            document.getElementById('codeText').innerText = t.code;

            // 7. Render "All" Tab
            const allHtml = `
                <div class="content-block">
                    <div class="block-title">Overview</div>
                    <div class="context-text">${t.context}</div>
                    <div class="link-group">${linkArea.innerHTML}</div>
                </div>
                <div class="content-block">
                    <div class="block-title">Real-World Scenario</div>
                    <div class="scenario-box"><strong>Use Case:</strong> ${t.example}</div>
                </div>
                <div class="content-block">
                    <div class="block-title">Implementation</div>
                    <div class="code-block">${t.code}</div>
                </div>
            `;
            document.getElementById('allContent').innerHTML = allHtml;

            // Reset to Core tab by default or keep current if valid logic added
            // switchTab('core'); // Optional: force reset on switch
        }

        function prevTopic() {
            if(currentTopicIndex > 0) loadTopic(currentTopicIndex - 1);
        }

        function nextTopic() {
            if(currentTopicIndex < topics.length - 1) loadTopic(currentTopicIndex + 1);
        }

        function switchTab(tabName) {
            // Update Headers
            document.querySelectorAll('.tab').forEach(el => el.classList.remove('active'));
            // Find specific tab by text or index relies on order, simpler to use onclick classes
            const tabs = document.querySelectorAll('.tab');
            if(tabName === 'core') tabs[0].classList.add('active');
            if(tabName === 'scenario') tabs[1].classList.add('active');
            if(tabName === 'impl') tabs[2].classList.add('active');
            if(tabName === 'all') tabs[3].classList.add('active');

            // Update Content Visibility
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.getElementById(`tab-${tabName}`).classList.add('active');
        }

        function filterTopics(query) {
            const lower = query.toLowerCase();
            const filteredIndices = [];
            topics.forEach((t, i) => {
                if(t.title.toLowerCase().includes(lower) || t.cat.toLowerCase().includes(lower)) {
                    filteredIndices.push(i);
                }
            });
            
            // Re-render sidebar based on filter? 
            // Simpler approach: Just hide/show items
            const items = document.querySelectorAll('.nav-item');
            items.forEach((item, index) => {
                const t = topics[index];
                const match = t.title.toLowerCase().includes(lower) || t.cat.toLowerCase().includes(lower);
                item.style.display = match ? 'flex' : 'none';
            });
        }

        // Init
        renderSidebar(topics);
        loadTopic(0); // Load first

    </script>
</body>
</html>
